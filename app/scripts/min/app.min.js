"use strict";angular.module("mlg",["ngAnimate","ngCookies","ngRoute","ui.bootstrap","angularjs-dropdown-multiselect","textAngular","AUTH","tien.clndr","chart.js","datatablesDirectives","ngStorage"]).value("urlParams",{users:"/users",contactus:"/users/contact_us",login:"/users/login",logout:"/users/logout",siteRoot:"/mlg_ui/app/",studentsiteRoot:"/mlg_ui/sapp/",registerUser:"/users/registerUser",parentPreference:"/users/setUserPreference",baseURL:"http://localhost/mlg",gradeList:"/users/getGradeList",setUserStatus:"/users/setUserStatus",getTermsAndConditions:"/users/getStaticContents",getPaymentBrief:"/users/getPaymentBrief",isUserLogin:"/users/isUserLoggedin",saveCardToPaypal:"/users/saveCardToPaypal",saveCardToPaypalForTeacher:"/teachers/saveCardToPaypal",packageList:"/users/getPackageList",planList:"/users/getPlanList",getCourseByGrade:"/courses/getCourseListForLevel",setChildrenCount:"/users/setCountOfChildrenOfParent",getChildrenCount:"/users/getCountOfChildrenOfParent",getAddedChildren:"/users/getChildrenListOfParent",priceCalcOnSeclectedCourse:"/users/priceCalOnCourse",getChildrenDetails:"/users/getChildrenDetails",addChildRecord:"/users/addChildrenRecord",addChild:"/users/addChildren",offerRecords:"/users/getOffers",setStepNum:"/users/setStepNum",getStepNum:"/users/getStepNum",getUsedCoupon:"/users/getUsedCoupon",getUserSetting:"/users/getUserSetting",setUserSetting:"/users/setUserSetting",setAvailableCoupon:"/users/setAvailableCoupon",promocode:"/users/promocode",getUserPurchaseDetails:"/users/getUserPurchaseDetails",signUpTeacher:"/teachers/setTeacherRecord",setTeacherSubjects:"/teachers/setTeacherSubjects",teacherPayment:"/teachers/getTeacherSubject",upgradePackage:"/users/upgrade",getStudentDetail:"/teachers/getStudentDetail",getTeacherGrades:"/teachers/getTeacherGradeSubject",getTeacherDetailsForContent:"/teachers/getTeacherDetailsForLesson",getAllCourseList:"/courses/getAllCourseList",setContentForLesson:"/teachers/setContentForLesson",guestLogin:"/users/guestLogin",setTemplateDetail:"/teachers/saveTemplate",getTemplateDetail:"/teachers/getTemplate",delContent:"/teachers/deleteContent",getDifficultyLevel:"/teachers/getDifficulty",questionType:"/teachers/getQuestionType",getUserContent:"/teachers/getUserContent",setUserContents:"/teachers/setUserContent",delTemplate:"/teachers/deleteTemplate",addStudent:"/teachers/addStudent",getStudentsOfSubjectForTeacher:"/teachers/getStudentsOfSubjectForTeacher",updateStudent:"/teachers/updateStudent",deleteStudent:"/teachers/deleteStudent",sendMeMail:"/teachers/sendEmailToTeacher",getStudentOfTeacher:"/teachers/getStudentOfTeacher",createGroupInSubjectByTeacher:"/teachers/createGroupInSubjectByTeacher",getGroupsOfSubjectForTeacher:"/teachers/getGroupsOfSubjectForTeacher",editGroupOfSubject:"/teachers/editGroupOfSubject",getStudentsOfGroup:"/teachers/getStudentsOfGroup",updateContent:"/teachers/updateUserContent",uploadQuestion:"/teachers/saveQuestion",getStaticContent:"/users/getStaticContents",getUserDetails:"/users/getUserDetails",getCouponByUserType:"/users/getCouponByUserType",updateProfilePic:"/users/updateProfilePic",getUserPreferences:"/users/getUserPreferences",setUserPassword:"/users/setUserPassword",updateMyAccount:"/users/updateMyAccount",getCourseSkillSubskills:"/courses/getCourseSkillSubskills",generateAssignQuestions:"/teachers/generateAssignQuestions",getQuestionsListForAssg:"/teachers/getQuestionsListForAssg",setCustomAssignmentByTeacher:"/teachers/setCustomAssignmentByTeacher"}).value("REGEX",{LAT:"/-?([1-8]?[1-9]|[1-9]0)\\.{1}\\d{1,6}/",PINCODE:"/^([0-9]{6})$/",MOBILE:"/^(\\d{10})$/",AMOUNT:"/^(?:[1-9]\\d*|0)?(?:\\.\\d+)?$/",LANDLINE:"/^[0-9]*$/",DATE:"/^(0?[1-9]|[12][0-9]|3[01])[/-](0?[1-9]|1[012])[/-]d{4}$/",DATEFORMAT:"/^([0-9]{2})/([0-9]{2})/([0-9]{4})$/"}).value("user_roles",{admin:1,parent:2,teacher:3,student:4,guest_teacher:5,principal:6}).value("card_months",{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"}).value("card_years",{2017:"2017",2018:"2018",2019:"2019",2020:"2020",2021:"2021",2022:"2022"}).value("subscription_days",{parent:30,student:60,teacher:30,guest_teacher:30,principal:30}).config(["$routeProvider","$locationProvider",function(e,t){var r=routingConfig.accessLevels;e.when("/",{templateUrl:"views/landing.html",controller:"loginCtrl",access:r.public}).when("/signin",{templateUrl:"views/login.html",controller:"loginCtrl",access:r.public}).when("/parent_login",{templateUrl:"views/parent_login.html",controller:"loginCtrl"}).when("/teacher/login",{templateUrl:"views/login-teacher.html",controller:"loginCtrl"}).when("/student/login",{templateUrl:"views/login-student.html",controller:"loginCtrl"}).when("/teacher/signup",{templateUrl:"views/teacher_signup.html",controller:"teacherSingnupCtrl",access:r.public}).when("/parent_signup",{templateUrl:"views/parent_signup.html",controller:"loginCtrl",access:r.public}).when("/parent-login",{templateUrl:"views/login-parent.html",controller:"parentLoginCtrl"}).when("/email/confirmation/:id",{templateUrl:"views/parent_confirmation.html",controller:"emailConfirmationCtrl"}).when("/select_children",{templateUrl:"views/number_children.html",controller:"addChild"}).when("/add_child_account",{templateUrl:"views/child_account_creation.html",controller:"addChild"}).when("/parent_preferences",{templateUrl:"views/account_preferenceces.html",controller:"parentPreferenceCtrl",access:r.parents}).when("/terms_and_conditions",{templateUrl:"views/term_condition.html",controller:"termsAndConditionsCtrl",access:r.parents}).when("/payment_page",{templateUrl:"views/payment_page.html",controller:"paymentPageCtrl"}).when("/preferences",{templateUrl:"views/preferences.html",controller:"preferences"}).when("/select-children",{templateUrl:"views/select-children.html",controller:"selectChildren"}).when("/parent/dashboard/subscription/:child_id",{templateUrl:"views/dashboard/parent-subscription.html",controller:"parentSubscriptionCtrl"}).when("/test",{templateUrl:"views/test.html",controller:"addChild"}).when("/children-account-setup",{templateUrl:"views/children-account-setup.html",controller:"childrenAccountSetup"}).when("/parent/offer",{templateUrl:"views/dashboard/parent-offers.html",controller:"childrenAccountSetup"}).when("/parent/dashboard/offers",{templateUrl:"views/dashboard/parent-offers.html",controller:"parentOffers",access:r.parents}).when("/parent/dashboard/redeem/:id",{templateUrl:"views/dashboard/parent-redeem.html",controller:"parentRedeemCtrl"}).when("/parent/dashboard/settings",{templateUrl:"views/dashboard/parent-settings.html",controller:"parentSettingCtrl"}).when("/parent/dashboard/notifications",{templateUrl:"views/dashboard/parent-notifications.html",controller:"parentOffers"}).when("/teacher/create_account",{templateUrl:"views/account-teacher.html",controller:"teacherOnBoardingCtrl"}).when("/teacher/select_courses",{templateUrl:"views/select-grades-subjects.html",controller:"teacherOnBoardingCtrl"}).when("/teacher/dashboard/class/:gradeid/:subject_name/:courseid",{templateUrl:"views/dashboard/teacher-dashboard.html",controller:"teacherDashboardViewCtrl"}).when("/parent/report",{templateUrl:"views/dashboard/parent-report.html",controller:"teacherReportCtrl"}).when("/teacher/message",{templateUrl:"views/dashboard/teacher-message.html",controller:"teacherMessageCtrl"}).when("/teacher/subscription",{templateUrl:"views/dashboard/teacher-subscription.html",controller:"teacherSubscriptionCtrl"}).when("/teacher/settings",{templateUrl:"views/dashboard/teacher-setting.html",controller:"teacherSubscriptionCtrl"}).when("/teacher/add-new-event-ptm",{templateUrl:"views/dashboard/teacher-AddNewEventPTM.html",controller:"teacherAddNewEventPTM"}).when("/teacher/addNewEvent",{templateUrl:"views/dashboard/teacher-addNewEvent.html",controller:"teacherAddNewEvent"}).when("/teacher/student-list",{templateUrl:"views/dashboard/teacher-all-student-list.html",controller:"teacherStudentList"}).when("/teacher/student-profile/:id",{templateUrl:"views/dashboard/teacher-student-profile.html"}).when("/teacher/auto-generate-assignment",{templateUrl:"views/dashboard/teacher-autoGenerateAssignment.html",controller:"teacherAutoGenerateAssignment"}).when("/teacher/custom-assignment/:gradeid/:subject_name/:courseid",{templateUrl:"views/dashboard/teacher-createCustomAssignement.html",controller:"teacherCustomAssignmentCtrl"}).when("/teacher/add-new-assignment",{templateUrl:"views/dashboard/teacher-AddNewAssignment.html",controller:"teacherAddNewAssignment"}).when("/teacher/add-new-todo",{templateUrl:"views/dashboard/teacher-addnewtodo.html",controller:"teacherAddNewTodo"}).when("/parent/dashboard/:id",{templateUrl:"views/dashboard/parent-dashboard.html",controller:"parentDashboardCtrl",access:r.parents}).when("/teacher/payment_page",{templateUrl:"views/payment_teacher.html",controller:"teacherOnBoardingCtrl"}).when("/teacher/add_content",{templateUrl:"views/dashboard/teacher-content-add-lesson.html",controller:"teacherLessonCtrl"}).when("/teacher/create-class",{templateUrl:"views/dashboard/teacher-create-class.html",controller:"teacherCreateClassCtrl"}).when("/teacher/add-question",{templateUrl:"views/dashboard/teacher-content-add-question.html",controller:"teacherAddQuestionCtrl"}).when("/teacher/questions",{templateUrl:"views/dashboard/teacher-content-questions.html",controller:"teacherQuestions"}).when("/teacher/lessons",{templateUrl:"views/dashboard/teacher-content-lessons.html",controller:"teacherLessonCtrl"}).when("/teacher/create-group/class/:grade_id/:subject_name/:course_id",{templateUrl:"views/dashboard/teacher-create-group.html",controller:"teacherGroupCtrl"}).when("/teacher/edit-group/:group_title_inURL/:group_id",{templateUrl:"views/dashboard/teacher-editGroup.html",controller:"teacherGroupCtrl"}).when("/teacher/gap-analysis",{templateUrl:"views/dashboard/teacher-gapAnalysis.html",controller:"teacherGapAnalysis"}).when("/teacher/get-a-quote",{templateUrl:"views/dashboard/teacher-getQuote.html",controller:"teacherGetQuote"}).when("/teacher/group-member",{templateUrl:"views/dashboard/teacher-groupMember.html",controller:"teacherGroupMember"}).when("/teacher/teacher-message",{templateUrl:"views/dashboard/teacher-message.html",controller:"teacherMessage"}).when("/teacher/my-class",{templateUrl:"views/dashboard/teacher-myClass.html",controller:"teacherMyClass"}).when("/teacher/notification",{templateUrl:"views/dashboard/teacher-notification.html",controller:"teacherNotification"}).when("/teacher/rewards",{templateUrl:"views/dashboard/teacher-rewards.html",controller:"teacherRewards"}).when("/teacher/scope-sequence",{templateUrl:"views/dashboard/teacher-scope-sequence.html",controller:"teacherScopeSequence"}).when("/guest",{templateUrl:"views/guest_login.html",controller:"guestCtrl"}).when("/static/:slug",{templateUrl:"views/comingsoon.html",controller:"staticCtrl"}).otherwise({redirectTo:"/"}),t.html5Mode({enabled:!0,requireBase:!1})}]).run(["$rootScope","$templateCache","$location","loginHttpService","urlParams","$http","$cookies","$cookieStore","Auth",function(e,t,r,s,a){function n(e,t){var r=new Date;r.setTime(r.getTime()+864e5),document.cookie=e+"="+t+";expires="+r.toUTCString()+";path=/"}a.baseURL="http://35.185.54.127/mlg";s.isUserlogin().success(function(t){e.logged_user="false"==t.status?"":t.user_info}).error(function(){e.logged_user=""}),e.logout=function(){s.logout().success(function(){e.logged_user="",n("uid",null),n("userObj",null),window.location.href="/mlg_ui/app"}).error(function(){e.logged_user=""})},e.$on("$viewContentLoaded",function(){t.removeAll()})}]).controller("TopController",function(e,t,r){e.$on("$routeChangeSuccess",function(){t.this_route=function(){return""==r.path().replace("/","")?"home":r.path().replace("/","")}})}).controller("parentOffers",function(e){e.$apply(function(){$(".page-container").addClass("abc");var e=$(window).height()-$(".page-container").offset().top-$(".footer").outerHeight();$(".page-container").attr("style","min-height:"+e+"px")})}).directive("banner",function(){return function(e,t){t.height($(window).height()-$(".navbar").outerHeight())}}).directive("aside",function(){return{restrict:"E",templateUrl:"include/sidebar-teacher.html",controller:["$scope","$cookieStore","teacherHttpService","user_roles",function(e,t,r,s){function a(e){var t=e.split(","),r={};return angular.forEach(t,function(e){var t=e.split("=");r[t[0]]=t[1]}),r}e.isCollapsedmyClass=!0,e.isCollapsedmyContent=!0,e.open_menu=function(t,r){"myClass"==r?(e.isCollapsedmyClass=!e.isCollapsedmyClass,e.isCollapsedmyClass?($("#"+r).removeClass("in"),$("#"+t).addClass("collapsed")):($("#"+r).addClass("in"),$("#"+t).removeClass("collapsed"))):(e.isCollapsedmyContent=!e.isCollapsedmyContent,e.isCollapsedmyContent?($("#"+r).removeClass("in"),$("#"+t).addClass("collapsed")):($("#"+r).addClass("in"),$("#"+t).removeClass("collapsed")))};var n=t.get("userObj"),l=a(n);e.userInfo=l;var o=n=t.get("uid");r.getTeacherGrades(o,s.teacher).success(function(t){1==t.status&&(e.subject_grade=t.response,e.level=t.grade,e.subject=t.subject.course_name.split(","))})}]}}).directive("asideParent",function(){return{restrict:"E",templateUrl:"include/sidebar.html",controller:["$scope","$cookieStore","loginHttpService","$routeParams",function(e,t,r,s){function a(e){var t=e.split(","),r={};return angular.forEach(t,function(e){var t=e.split("=");r[t[0]]=t[1]}),r}var n=t.get("userObj"),l=a(n);e.userInfo=l,e.childname={},e.frm={};var o=n=t.get("uid");r.getChildrenDetails(o).success(function(t){var r=t.response.length;if(r>0){e.childname=t.response,e.frm.childnames=t.response;for(var a in e.frm.childnames)if(e.frm.childnames[a].user_id==s.child_id)return e.frm.selectedchild=e.frm.childnames[a],!1}else e.childname=0,e.frm.childnames=[]})}]}}).directive("topSearchBar",function(){return{restrict:"E",templateUrl:"include/search-bar.html",controller:["$scope","$cookieStore",function(e,t){function r(e){var t=e.split(","),r={};return angular.forEach(t,function(e){var t=e.split("=");r[t[0]]=t[1]}),r}var s=t.get("userObj"),a=r(s);e.userInfo=a}]}}).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,r,s){var a=e(s.fileModel),n=a.assign;r.bind("change",function(){t.$apply(function(){n(t,r[0].files[0])})})}}}]).service("sharedSkill",function(){var e;return{getProperty:function(){return e},setProperty:function(t){e=t}}}).service("sharedSubskill",function(){var e;return{getProperty:function(){return e},setProperty:function(t){e=t}}});